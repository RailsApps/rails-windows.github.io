<!DOCTYPE html>
<!--[if IE 9]><html class="lt-ie10" lang="en" > <![endif]-->
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Manual Install for Ruby on Rails on Windows &#183; Rails for Windows</title>
  <link href="https://plus.google.com/117374718581973393536" rel="publisher" />
  <link rel="stylesheet" href="http://rails-windows.github.io/css/foundation.css" />
  <link rel="stylesheet" href="http://rails-windows.github.io/css/screen.css" />
  <link rel="stylesheet" href="http://rails-windows.github.io/css/gollum.css" />
  <link rel="stylesheet" href="http://rails-windows.github.io/css/site.css" />
  <link rel="stylesheet" href="http://rails-windows.github.io/css/syntax.css" />
  <script src="http://rails-windows.github.io/javascript/modernizr.js" type="text/javascript"></script>
  <script src="http://rails-windows.github.io/javascript/jquery.js" type="text/javascript"></script>
  <script src="http://rails-windows.github.io/javascript/jquery.text_selection-1.0.0.min.js" type="text/javascript"></script>
  <script src="http://rails-windows.github.io/javascript/jquery.previewable_comment_form.js" type="text/javascript"></script>
  <script src="http://rails-windows.github.io/javascript/jquery.tabs.js" type="text/javascript"></script>
  <script src="http://rails-windows.github.io/javascript/gollum.js" type="text/javascript"></script>
  <script type="text/javascript"> window.analytics||(window.analytics=[]),window.analytics.methods=["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group","on","once","off"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var method=window.analytics.methods[i];window.analytics[method]=window.analytics.factory(method)}window.analytics.load=function(t){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)},window.analytics.SNIPPET_VERSION="2.0.8",
  window.analytics.load("fajdc3qt0c");
  window.analytics.page();
  </script>
</head>
<body>

  <!-- Header and Nav -->
  <nav class="top-bar" data-topbar>
    <ul class="title-area">
      <!-- Title Area -->
      <li class="name">
        <h1>
          <a href="http://railsapps.github.io/" class="brand">RailsApps Project</a>
        </h1>
      </li>
      <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
    </ul>

    <section class="top-bar-section">
      <!-- Right Nav Section -->
      <ul class="right">
        <li class="divider"></li>
        <li><a href="https://tutorials.railsapps.org/" class="google">Tutorials</a></li>
        <li><a href="http://twitter.com/rails_apps" class="twitter">Twitter</a></li>
        <li><a href="http://blog.railsapps.org/" class="twitter">Blog</a></li>
        <li><a href="https://github.com/RailsApps" class="github">GitHub Repository</a></li>
        <li class="has-dropdown">
          <a href="#">Chapters</a>
          <ul class="dropdown">
            <li><label>Introduction</label></li>
            <li><a href="http://rails-windows.github.io/">Introduction to Ruby on Rails for Windows</a></li>
            <li class="divider"></li>
            <li><label>Chapter 01: Overview</label></li>
            <li><a href="http://rails-windows.github.io/10-install-ruby-rails-windows.html">Install Ruby on Rails on Windows</a></li>
            <li class="divider"></li>
            <li><label>Chapter 02: Getting Started</label></li>
            <li><a href="http://rails-windows.github.io/20-windows-environment-ruby-rails.html">Windows Environment for Ruby on Rails</a></li>
            <li><a href="http://rails-windows.github.io/30-software-ruby-rails-windows.html">Required Software for Ruby on Rails on Windows</a></li>
            <li class="divider"></li>
            <li><label>Chapter 03: Virtual Environments</label></li>
            <li><a href="http://rails-windows.github.io/40-virtual-machines-ruby-rails-windows.html">Virtual Machines for Ruby on Rails on Windows</a></li>
            <li class="divider"></li>
            <li><label>Chapter 04: Installations</label></li>
            <li><a href="http://rails-windows.github.io/50-automated-install-ruby-rails-windows.html">Automated Installation for Ruby on Rails on Windows</a></li>
            <li><a href="http://rails-windows.github.io/60-manual-install-ruby-rails-windows.html">Manual Installation for Ruby on Rails on Windows</a></li>
            <li class="divider"></li>
            <li><label>Chapter 05: Applications and Versioning</label></li>
            <li><a href="http://rails-windows.github.io/70-using-ruby-rails-windows.html">Using Ruby on Rails on Windows</a></li>
            <li><a href="http://rails-windows.github.io/80-git-github-ruby-rails-windows.html">Git and GitHub for Ruby on Rails on Windows</a></li>
            <li><a href="http://rails-windows.github.io/90-foundation-ruby-rails-windows.html">Foundation 5 for Ruby on Rails on Windows</a></li>
          </ul>
        </li>
      </ul>
    </section>

  </nav>
  <!-- End Header and Nav -->

  <div class="row">
    <div class="large-12 columns">
      <div class="content wikistyle gollum markdown">
        <h1>Manual Install for Ruby on Rails on Windows</h1>

<h4>by Joel Dezenzio</h4>

<p><em>Last updated 23 December 2013</em></p>

<hr><p><em>Rails for Windows</em></p>

<ul>
<li><a href="http://rails-windows.github.io/index.html">Introduction to Ruby on Rails for Windows</a></li>
<li><a href="http://rails-windows.github.io/10-install-ruby-rails-windows.html">Install Ruby on Rails on Windows</a></li>
<li><a href="http://rails-windows.github.io/20-windows-environment-ruby-rails.html">Windows Environment for Ruby on Rails</a></li>
<li><a href="http://rails-windows.github.io/30-software-ruby-rails-windows.html">Required Software for Ruby on Rails on Windows</a></li>
<li><a href="http://rails-windows.github.io/40-virtual-machines-ruby-rails-windows.html">Virtual Machines for Ruby on Rails on Windows</a></li>
<li><a href="http://rails-windows.github.io/50-automated-install-ruby-rails-windows.html">Automated Install for Ruby on Rails on Windows</a></li>
<li><strong>Manual Installation for Ruby on Rails on Windows</strong></li>
<li><a href="http://rails-windows.github.io/70-using-ruby-rails-windows.html">Using Ruby on Rails on Windows</a></li>
<li><a href="http://rails-windows.github.io/80-git-github-ruby-rails-windows.html">Git and GitHub for Ruby on Rails on Windows</a></li>
<li><a href="http://rails-windows.github.io/90-foundation-ruby-rails-windows.html">Foundation 5 for Ruby on Rails on Windows</a></li>
</ul><hr><h3>Manual Install</h3>

<p>This chapter will focus on manual installations.  Because we will be managing applications going forward, we still want to install Chocolatey and set
up our PS environment for automated scripting in the future.  We will be installing 32-bit instead of 64-bit for the following reasons:</p>

<ul>
<li>Win 8.1 preview is generally a 32-bit OS test system</li>
<li>Ruby 2.0 64-bit still does not have "all gems" pre-compiled for Windows</li>
</ul><p>Don't let this put you off though.  64-bit OS is still usable but some gems like mysql2 and Nokogiri are not usable (at the time of this writing).</p>

<h3>NuGet &amp; Chocolatey Quick Install</h3>

<ol>
<li>Open a Browser and visit <a href="http://chocolatey.org">Chocolatey.org</a>
</li>
<li>Click the link under the easy installation OR copy the text below</li>
</ol><pre>
  @powershell -NoProfile -ExecutionPolicy unrestricted -Command "iex ((new-object net.webclient).DownloadString('https://chocolatey.org/install.ps1'))" &amp;&amp; SET PATH=%PATH%;%systemdrive%\chocolatey\bin
</pre>

<ol>
<li>Open a regular CMD prompt and right-click and paste, hitting enter.  After the installation is completed, close the CMD prompt.</li>
<li>Click the <strong>Windows</strong> key on your keyboard and type "Powershell", right-click on "Windows PowerShell" and pin to the "taskbar".</li>
<li>Click Desktop off the metro view window or just click the Windows key again on your keyboard to go back to the desktop.</li>
</ol><h3>PowerShell Scripting</h3>

<p>You should now see a PowerShell icon on your task bar.  Right-click and "Run as Administrator" to open a PS prompt.  Type cd\ and hit enter.</p>

<h5>Execution Policy</h5>

<p>We will be changing the execution policy in PS so that we can run local and remote scripts going forwad. Run the following commands:</p>

<pre><code> C:\&gt; Get-ExecutionPolicy
</code></pre>

<p>You should see that it is set to "Restricted".  Let's change that</p>

<pre><code> C:\&gt; Set-ExeuctionPolicy unrestricted
</code></pre>

<p>When prompted, click Y for Yes and hit enter.  Now if you type Get-ExecutionPolicy you'll see it shows Unrestricted now.  All set!</p>

<h5>Chocolatey Packages with PS</h5>

<p>Before we begin, let's setup some environment paths.  Type each line below in powershell.</p>

<div class="highlight">
<pre><span class="nv">$tools</span> <span class="p">=</span> <span class="s1">'C:\tools'</span>
<span class="nv">$tools_bin</span> <span class="p">=</span> <span class="s1">'C:\tools\bin'</span>
<span class="nv">$tools_downloads</span> <span class="p">=</span> <span class="s1">'C:\tools\downloads'</span>
<span class="nv">$git_bin</span> <span class="p">=</span> <span class="p">${</span><span class="n">env</span><span class="err">:</span><span class="n">ProgramFiles</span><span class="p">(</span><span class="n">x86</span><span class="p">)}</span> <span class="p">+</span> <span class="s1">'\Git\bin'</span>
<span class="nv">$git_cmd</span> <span class="p">=</span> <span class="p">${</span><span class="n">env</span><span class="err">:</span><span class="n">ProgramFiles</span><span class="p">(</span><span class="n">x86</span><span class="p">)}</span> <span class="p">+</span> <span class="s1">'\Git\cmd'</span>
<span class="nv">$ruby_bin</span> <span class="p">=</span> <span class="s1">'C:\tools\bin\ruby\bin'</span>
<span class="nv">$env:HOME</span> <span class="p">=</span> <span class="nv">$env:USERPROFILE</span>
<span class="nv">$env:GEM_HOME</span> <span class="p">=</span> <span class="nv">$env:HOME</span> <span class="p">+</span> <span class="s1">'\.gems'</span>
<span class="nv">$env:GEM_PATH</span> <span class="p">=</span> <span class="nv">$env:GEM_HOME</span> <span class="p">+</span> <span class="s2">"\bin"</span>
<span class="nv">$full_path</span> <span class="p">=</span> <span class="s1">';'</span> <span class="p">+</span> <span class="nv">$tools_bin</span> <span class="p">+</span> <span class="s1">';'</span> <span class="p">+</span> <span class="nv">$git_bin</span> <span class="p">+</span> <span class="s1">';'</span> <span class="p">+</span> <span class="nv">$git_cmd</span> <span class="p">+</span> <span class="s1">';'</span> <span class="p">+</span> <span class="nv">$ruby_bin</span> <span class="p">+</span> <span class="s1">';'</span> <span class="p">+</span> <span class="nv">$env:GEM_HOME</span> <span class="p">+</span> <span class="s1">';'</span> <span class="p">+</span> <span class="nv">$env:GEM_PATH</span>
<span class="no">[Environment]</span><span class="err">::</span><span class="n">SetEnvironmentVariable</span><span class="p">(</span><span class="s2">"PATHEXT"</span><span class="p">,</span><span class="nv">$env:PATHEXT</span> <span class="p">+</span> <span class="s2">";.RB;.RBW"</span><span class="p">,</span> <span class="s2">"User"</span><span class="p">)</span>
<span class="no">[Environment]</span><span class="err">::</span><span class="n">SetEnvironmentVariable</span><span class="p">(</span><span class="s2">"HOME"</span><span class="p">,</span><span class="nv">$env:USERPROFILE</span><span class="p">,</span> <span class="s2">"User"</span><span class="p">)</span>
<span class="no">[Environment]</span><span class="err">::</span><span class="n">SetEnvironmentVariable</span><span class="p">(</span><span class="s2">"GEM_HOME"</span><span class="p">,</span><span class="nv">$env:GEM_HOME</span><span class="p">,</span> <span class="s2">"User"</span><span class="p">)</span>
<span class="no">[Environment]</span><span class="err">::</span><span class="n">SetEnvironmentVariable</span><span class="p">(</span><span class="s2">"GEM_PATH"</span><span class="p">,</span><span class="nv">$env:GEM_PATH</span><span class="p">,</span> <span class="s2">"User"</span><span class="p">)</span>
<span class="no">[Environment]</span><span class="err">::</span><span class="n">SetEnvironmentVariable</span><span class="p">(</span><span class="s2">"PATH"</span><span class="p">,</span><span class="nv">$env:path</span> <span class="p">+</span> <span class="nv">$full_path</span><span class="p">,</span> <span class="s2">"User"</span><span class="p">)</span>
<span class="nv">$env:Path</span> <span class="p">+=</span> <span class="nv">$full_path</span>
</pre>
</div>


<p>Let's run some updates and install some packages with PS to make it feel more like a Windows Dev environment!  You can copy and paste the commands into PS if you want.  If you
want to know what each app does, you can type the app in the chocolatey.org search box and read about it.  Do these in order.  Also note that some of the commands may be
slightly longer in PS.  The main reason is to teach you how to run additional commands in PS.</p>

<pre>
  PS&gt; cinst 7zip
  PS&gt; cinst 7zip.commandline
  PS&gt; cinst nuget.commandline
  PS&gt; cinst NugetPackageExplorer
  PS&gt; cinst git
</pre>

<p>Create a working directory structure to store our downloads, our executables and scripts</p>

<pre>
  PS&gt; New-Item -ItemType directory -Path "C:\Tools"
  PS&gt; New-Item -ItemType directory -Path "C:\Tools\bin"
  PS&gt; New-Item -ItemType directory -Path "C:\Tools\downloads"
  PS&gt; New-Item -ItemType directory -Path $env:USERPROFILE + '\.gems'
</pre>

<h5>Install Ruby and Ruby DevKit</h5>

<p>Visit <a href="http://rubyinstaller.org/downloads/">RubyInstaller</a> and find the executables for Ruby 2.0.0.  In our case, we're going to start with the 32-bit
installer of Ruby for now.  You can install the 64-bit version later on.  Find the <a href="http://dl.bintray.com/oneclick/rubyinstaller/rubyinstaller-2.0.0-p353.exe">32-bit</a>
version and download it to your C:\tools\downloads folder.  Begin the installation.</p>

<ul>
<li>Install path should be located in C:\tools\bin\ruby</li>
<li>Check any options or checkboxes that you are presented with during the installation</li>
<li>When the installation is completed you should see that you have:  C:\tools\bin\ruby\bin</li>
<li>Close and then reopen PowerShell.</li>
</ul><p>Also download the <a href="http://cdn.rubyinstaller.org/archives/devkits/DevKit-mingw64-32-4.7.2-20130224-1151-sfx.exe">DevKit</a> from RubyInstaller and place it in your
C:\tools\downloads directory.  Extract the contents to C:\tools\bin\devkit. Once done, navigate to C:\tools\bin\devkit and perform the following tasks in PS:</p>

<pre>
  PS&gt; .\ruby dk.rb init
  PS&gt; .\ruby dk.rb install
</pre>

<p>This will install the required files into C:\tools\bin\ruby\bin.  Once completed run a quick test to see if everything is working fine:</p>

<pre>
  PS&gt; gem install atomic
</pre>

<p>Atomic is part of the rails installation later on and requires the devkit to install.  If all goes well, you've completed the ruby install process.  If you find
issues, check the c:\tools\bin\devkit\config.yml file and ensure that it's pointing to your c:\tools\bin\ruby folder and run the init and install commands again.</p>

<p>Install MySQL and copy libmysql.dll to Ruby</p>

<pre>
  PS&gt; cinst mysql-32bit
  PS&gt; Start-Process "mysqladmin" -ArgumentList "-u root password Passw0rd!"
  PS&gt; Copy-Item -Path C:\tools\mysql-32bit\current\lib\libmysql.dll -Destination c:\tools\bin\ruby\bin
</pre>

<p>Install the mysql2 gem and dependencies</p>

<pre>
  PS&gt; Start-Process "gem" -ArgumentList "install --platform=ruby mysql2 -- --with-mysql-lib=C:\tools\mysql-32bit\current\lib --with-mysql-include=C:\tools\mysql-32bit\current\include"
</pre>

<p>Once done, let's verify that mysql2 is working properly by opening IRB.</p>

<pre>
  PS&gt; irb
  PS&gt; require 'mysql2'
  =&gt; true
</pre>

<p>This should equal true.</p>

<p>Install and update Gems and Rails</p>

<pre>
  PS&gt; gem update --system
  PS&gt; gem install rails
</pre>

<p>If everything has gone fine so far, pat yourself on the back for a job well done!  The majority of the software you need has been installed.  In order to ensure
that we can install multiple rubies in the future, we should install a ruby package manager to handle different versions.  We'll use URU for this.</p>

<h5>URU</h5>

<p>URU will allow us to install multiple ruby versions and manage them.  Let's begin by <a href="https://bitbucket.org/jonforums/uru/downloads/uru-0.7.0-windows-x86.7z">downloading URU</a> and
saving it in our C:\tools\downloads directory.  Once downloaded, extract the contents to C:\tools\bin.  Perform the following steps:</p>

<pre>
  PS&gt; cd c:\tools\bin
  PS&gt; .\uru_rt admin install
  PS&gt; .\uru admin add C:\tools\bin\ruby\bin --tag system
</pre>

<p>Once done, open a regular command prompt and type "uru" to see a list of commands.  Afterwards, run "uru list" and you'll see that our first version of ruby
is installed.  If you download and install another ruby version you would just perform "uru admin add 'path-to-new-ruby-version'".  You can also specify your own
tag for that installation "--tag someName".  When you want to switch between ruby versions just type uru system or uru someName.</p>

<h2>Next Chapter</h2>

<p>Read on to learn how to build your first Rails application on Windows:</p>

<ul>
<li><a href="http://rails-windows.github.io/70-using-ruby-rails-windows.html"><strong>Using Ruby on Rails on Windows</strong></a></li>
</ul>
      </div><!-- class="content" -->
      <div class="content wikistyle gollum">
        <h2>Comments</h2>
      </div>
      <p>Is this helpful? Your encouragement fuels the project. Please tweet or add a comment. Couldn't get something to work? For the example apps and tutorials, it's best to open an issue on GitHub so we can help you.</p>
    </div>
  </div>

  <!-- Footer -->
  <div class="footer-top bg-gray">
  <footer class="row">
    <div class="large-12 columns"><hr />
      <div class="row">
        <div class="row">
          <div class="medium-4 large-4 columns white">
           <h4>RailsApps &#183; Getting Started</h4>
           <a href="http://railsapps.github.io/ruby-and-rails.html">Ruby on Rails</a></br>
           <a href="http://railsapps.github.io/what-is-ruby-rails.html">What is Ruby on Rails?</a></br>
           <a href="http://learn-rails.com/learn-ruby-on-rails.html">Learn Ruby on Rails</a></br>
           <a href="https://tutorials.railsapps.org/rails-tutorial">Rails Tutorial</a></br>
           <a href="http://railsapps.github.io/installing-rails.html">Install Ruby on Rails</a></br>
           <a href="http://railsapps.github.io/installrubyonrails-mac.html">Install Ruby on Rails - Mac OS X</a></br>
           <a href="http://railsapps.github.io/installrubyonrails-ubuntu.html">Install Ruby on Rails - Ubuntu</a></br>
           <a href="http://rails-windows.github.io/10-install-ruby-rails-windows.html">Install Ruby on Rails - Windows</a></br>
           <a href="http://rails-windows.github.io/">Ruby on Rails for Windows</a></br>
           <a href="http://railsapps.github.io/rubyonrails-nitrous-io.html">Ruby on Rails - Nitrous.io</a></br>
           <a href="http://railsapps.github.io/updating-rails.html">Update Rails</a></br>
           <a href="http://railsapps.github.io/rails-composer/">Rails Composer</a></br>
           <a href="http://railsapps.github.io/">Rails Examples</a></br>
           <a href="http://railsapps.github.io/rails-examples-tutorials.html">Rails Starter Apps</a>
         </div>
         <div class="medium-4 large-4 columns white">
           <h4>RailsApps &#183; Articles</h4></a>
           <a href="http://railsapps.github.io/rails-foundation.html">Foundation and Rails</a></br>
           <a href="http://railsapps.github.io/twitter-bootstrap-rails.html">Bootstrap and Rails</a></br>
           <a href="http://railsapps.github.io/rails-google-analytics.html">Analytics for Rails</a></br>
           <a href="http://railsapps.github.io/rails-heroku-tutorial.html">Heroku and Rails</a></br>
           <a href="http://railsapps.github.io/rails-javascript-include-external.html">JavaScript and Rails</a></br>
           <a href="http://railsapps.github.io/rails-environment-variables.html">Rails Environment Variables</a></br>
           <a href="http://railsapps.github.io/rails-git.html">Git and GitHub with Rails</a></br>
           <a href="http://railsapps.github.io/rails-send-email.html">Send Email with Rails</a></br>
           <a href="http://railsapps.github.io/rails-haml.html">Haml and Rails</a></br>
           <a href="http://railsapps.github.io/rails-default-application-layout.html">Rails Application Layout</a></br>
           <a href="http://railsapps.github.io/rails-html5-boilerplate.html">HTML5 Boilerplate for Rails</a></br>
           <a href="http://railsapps.github.io/rails-3-2-example-gemfile.html">Example Gemfiles for Rails</a></br>
           <a href="http://railsapps.github.io/rails-application-templates.html">Rails Application Templates</a></br>
           <a href="http://railsapps.github.io/rails-product-planning.html">Rails Product Planning</a></br>
           <a href="http://railsapps.github.io/rails-project-management.html">Rails Project Management</a>
         </div>
         <div class="medium-4 large-4 columns white">
           <h4>RailsApps &#183; Tutorials</h4>
           <a href="https://tutorials.railsapps.org/rails-bootstrap">Rails and Bootstrap</a></br>
           <a href="https://tutorials.railsapps.org/rails3-bootstrap-devise-cancan">Devise with CanCan and Twitter Bootstrap</a></br>
           <a href="https://tutorials.railsapps.org/rails-stripe-membership-saas">Rails Membership Site with Stripe</a></br>
           <a href="https://tutorials.railsapps.org/rails-recurly-subscription-saas">Rails Subscription Site with Recurly</a></br>
           <a href="https://tutorials.railsapps.org/rails-prelaunch-signup">Startup Prelaunch Signup Application</a></br>
           <a href="http://railsapps.github.io/tutorial-rails-devise-rspec-cucumber.html">Devise with RSpec and Cucumber</a></br>
           <a href="http://railsapps.github.io/tutorial-rails-mongoid-devise.html">Devise with Mongoid</a></br>
           <a href="http://railsapps.github.io/tutorial-rails-mongoid-omniauth.html">OmniAuth with Mongoid</a></br>
           <a href="http://railsapps.github.io/tutorial-rails-subdomains.html">Subdomains with Devise</a></br>
           <h4>RailsApps Profile</h4></br>
           <a href="https://plus.google.com/108039160165742774777?rel=author">Google</a></br>
           <a href="https://plus.google.com/117374718581973393536" rel="publisher">Find us on Google+</a>
         </div>
       </div>
     </div>
   </div>
 </footer>
</div>
 <!-- End Footer -->


 <script src="http://rails-windows.github.io/javascript/foundation.min.js" type="text/javascript"></script>
 <script>
 $(document).foundation();

 var doc = document.documentElement;
 doc.setAttribute('data-useragent', navigator.userAgent);
 </script>


</body>
</html>
